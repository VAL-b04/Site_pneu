{% extends 'layout.html' %}

{% block title %}
    <title>Pneus vélo</title>

    {% include('_nav.html') %}
{% endblock %}

{% block body %}
<div class="container mt-4">
    <h2>Pneus vélo</h2>
    <br>
    <a href="/pneu-velo/add" class="btn btn-success mb-3">Ajouter un pneu</a>

    <table class="table table-striped">
        <thead class="table-dark">
            <tr>
                <th>ID</th>
                <th>Nom</th>
                <th>Fabricant</th>
                <th>Modèle</th>
                <th>Type Pneu</th>
                <th>Prix</th>
                <th>Image</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
        {% if pneus | length >= 1 %}
            {% for p in pneus %}
               <tr>
                   <td><span class="badge rounded-pill" style="background-color:#008427; color:white;">{{ p.id }}</span></td>
                   <td>{{ p.nomPneu }}</td>
                   <td>{{ p.fabricant }}</td>
                   <td>{{ p.modelePneu }}</td>
                   <td><span class="badge rounded-pill" style="background-color:#d40118; color:white;">{{ p.typePneu_id }}</span></td>
                   <td>{{ p.prixPneu | format_price }} €</td>
                   <td>
                       {% if p.image %}
                           <img style="width:40px;height:40px" src="/static/images/{{ p.image }}" alt="{{ p.nomPneu }}">
                       {% else %}
                           <img style="width:40px;height:40px" src="/static/images/no_image.png" alt="no image">
                       {% endif %}
                   </td>
                   <td>
                       <a href="/pneu-velo/edit?id={{ p.id }}" class="btn btn-sm btn-warning me-2">Éditer</a>
                       <form action="/pneu-velo/delete" method="post" style="display:inline;">
                           <input type="hidden" name="id" value="{{ p.id }}">
                           <button type="submit" class="btn btn-sm btn-danger">Supprimer</button>
                       </form>
                   </td>
               </tr>
            {% endfor %}
        {% else %}
            <tr>
                <td colspan="8" class="text-center text-muted">Aucun pneu disponible</td>
            </tr>
        {% endif %}
        </tbody>
    </table>
</div>
{% endblock %}